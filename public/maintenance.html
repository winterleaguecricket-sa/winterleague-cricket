<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Winter League Cricket — Updating</title>
<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #0a0e17;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
    color: #e5e7eb;
    overflow: hidden;
  }

  /* Animated background gradient */
  .bg {
    position: fixed; inset: 0;
    background: radial-gradient(ellipse at 30% 20%, rgba(220,38,38,0.08) 0%, transparent 60%),
                radial-gradient(ellipse at 70% 80%, rgba(249,115,22,0.06) 0%, transparent 60%),
                #0a0e17;
    z-index: 0;
  }

  .container {
    position: relative; z-index: 1;
    text-align: center;
    padding: 2rem;
    max-width: 520px;
    width: 100%;
  }

  /* Cricket ball spinner */
  .spinner-wrap {
    display: flex;
    justify-content: center;
    margin-bottom: 2rem;
  }

  .spinner {
    width: 64px; height: 64px;
    border-radius: 50%;
    background: radial-gradient(circle at 38% 35%, #dc2626 0%, #991b1b 100%);
    position: relative;
    animation: pulse 1.8s ease-in-out infinite;
    box-shadow: 0 0 30px rgba(220,38,38,0.35), inset 0 -3px 6px rgba(0,0,0,0.3);
  }

  /* Cricket ball seam */
  .spinner::before {
    content: '';
    position: absolute;
    inset: 8px;
    border-radius: 50%;
    border: 2px dashed rgba(255,255,255,0.35);
    animation: spin 3s linear infinite;
  }

  @keyframes pulse {
    0%, 100% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.08); opacity: 0.85; }
  }

  @keyframes spin {
    to { transform: rotate(360deg); }
  }

  h1 {
    font-size: 1.5rem;
    font-weight: 800;
    color: #f9fafb;
    margin-bottom: 0.5rem;
    letter-spacing: -0.02em;
  }

  .subtitle {
    font-size: 0.95rem;
    color: #9ca3af;
    line-height: 1.6;
    margin-bottom: 2rem;
  }

  /* Countdown ring */
  .countdown-wrap {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 2rem;
  }

  .ring-container {
    position: relative;
    width: 100px; height: 100px;
  }

  .ring-bg, .ring-fg {
    position: absolute;
    inset: 0;
    fill: none;
    stroke-width: 5;
  }

  .ring-bg { stroke: rgba(255,255,255,0.06); }

  .ring-fg {
    stroke: url(#grad);
    stroke-linecap: round;
    stroke-dasharray: 283;
    stroke-dashoffset: 0;
    transform: rotate(-90deg);
    transform-origin: center;
    transition: stroke-dashoffset 1s linear;
  }

  .countdown-num {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2rem;
    font-weight: 800;
    color: #f9fafb;
    font-variant-numeric: tabular-nums;
  }

  .countdown-label {
    font-size: 0.8rem;
    color: #6b7280;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    font-weight: 700;
  }

  /* Progress bar */
  .progress-bar {
    width: 100%;
    height: 4px;
    background: rgba(255,255,255,0.06);
    border-radius: 4px;
    overflow: hidden;
    margin-bottom: 1.5rem;
  }

  .progress-fill {
    height: 100%;
    border-radius: 4px;
    background: linear-gradient(90deg, #dc2626, #f97316);
    transition: width 1s linear;
    width: 0%;
  }

  /* Status message */
  .status {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: rgba(220,38,38,0.08);
    border: 1px solid rgba(220,38,38,0.2);
    border-radius: 100px;
    font-size: 0.8rem;
    font-weight: 600;
    color: #fca5a5;
  }

  .status-dot {
    width: 8px; height: 8px;
    border-radius: 50%;
    background: #ef4444;
    animation: blink 1.2s ease-in-out infinite;
  }

  @keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.3; }
  }

  /* Once site is back */
  .ready {
    background: rgba(16,185,129,0.08);
    border-color: rgba(16,185,129,0.25);
    color: #6ee7b7;
  }

  .ready .status-dot {
    background: #10b981;
    animation: none;
  }

  /* Footer */
  .footer {
    margin-top: 2.5rem;
    font-size: 0.75rem;
    color: #4b5563;
  }

  @media (max-width: 480px) {
    h1 { font-size: 1.25rem; }
    .subtitle { font-size: 0.85rem; }
    .ring-container { width: 80px; height: 80px; }
    .countdown-num { font-size: 1.6rem; }
  }
</style>
</head>
<body>

<div class="bg"></div>

<div class="container">
  <div class="spinner-wrap">
    <div class="spinner"></div>
  </div>

  <h1>We're Making Improvements</h1>
  <p class="subtitle">
    The site is applying a quick update and will be back in moments.<br>
    No action needed — this page will refresh automatically.
  </p>

  <div class="countdown-wrap">
    <div class="ring-container">
      <svg viewBox="0 0 100 100" width="100" height="100">
        <defs>
          <linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="0%">
            <stop offset="0%" style="stop-color:#dc2626" />
            <stop offset="100%" style="stop-color:#f97316" />
          </linearGradient>
        </defs>
        <circle class="ring-bg" cx="50" cy="50" r="45" />
        <circle class="ring-fg" id="ring" cx="50" cy="50" r="45" />
      </svg>
      <div class="countdown-num" id="count">20</div>
    </div>
    <div class="countdown-label">seconds remaining</div>
  </div>

  <div class="progress-bar">
    <div class="progress-fill" id="bar"></div>
  </div>

  <div class="status" id="status">
    <span class="status-dot"></span>
    <span id="statusText">Update in progress</span>
  </div>

  <div class="footer">Winter League Cricket &copy; 2026</div>
</div>

<script>
(function() {
  var TOTAL = 20;
  var remaining = TOTAL;
  var countEl = document.getElementById('count');
  var ringEl = document.getElementById('ring');
  var barEl = document.getElementById('bar');
  var statusEl = document.getElementById('status');
  var statusText = document.getElementById('statusText');
  var circumference = 2 * Math.PI * 45; // ~283

  ringEl.style.strokeDasharray = circumference;

  function update() {
    countEl.textContent = remaining;
    var progress = (TOTAL - remaining) / TOTAL;
    ringEl.style.strokeDashoffset = circumference * (1 - progress);
    barEl.style.width = (progress * 100) + '%';

    if (remaining <= 0) {
      checkSite();
      return;
    }

    remaining--;
    setTimeout(update, 1000);
  }

  function checkSite() {
    statusText.textContent = 'Checking availability...';

    fetch(window.location.href, { method: 'HEAD', cache: 'no-store' })
      .then(function(r) {
        if (r.ok) {
          siteReady();
        } else {
          retry();
        }
      })
      .catch(function() {
        retry();
      });
  }

  function retry() {
    statusText.textContent = 'Almost there, retrying...';
    remaining = 8;
    countEl.textContent = remaining;
    ringEl.style.strokeDashoffset = circumference;
    barEl.style.width = '0%';
    setTimeout(update, 1000);
  }

  function siteReady() {
    countEl.textContent = '✓';
    countEl.style.fontSize = '1.6rem';
    countEl.style.color = '#10b981';
    barEl.style.width = '100%';
    barEl.style.background = 'linear-gradient(90deg, #10b981, #34d399)';
    statusEl.className = 'status ready';
    statusText.textContent = 'Update complete — redirecting now';
    ringEl.style.strokeDashoffset = 0;
    ringEl.style.stroke = '#10b981';

    setTimeout(function() {
      window.location.reload();
    }, 1200);
  }

  update();
})();
</script>

</body>
</html>
